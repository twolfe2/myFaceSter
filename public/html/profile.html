<h2>Profile</h2>
<div class="row">
    <div class="col-md-4 profileSide">
        <div class="thumbnail">
            <img src="{{currentUser.image}}" alt="profile image" id='profImage'>
            <div class="caption">
                <h3>{{currentUser.name}}</h3>
                <p>...</p>
                <p><a href="#" class="btn btn-primary" role="button">Button</a> <a href="#" class="btn btn-default" role="button">Button</a></p>
            </div>
        </div>
    </div>
    <div class="col-md-8">
        <table class="table">
            <div class="form-group col-md-4 col-md-offset-8 ">
                <label for="search" class="control-label">Search</label>
                <div class=''>
                    <input type="text" class="form-control" id="search" placeholder="Name" ng-model='searchUsers'>
                </div>
                <thead>
                    <th>Image</th>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Actions</th>
                </thead>
                <tbody>
                    <tr ng-repeat='friend in currentUser.friends | filter: searchUsers'>
                        <td><div class="media"><img class="media-object userList" src="{{friend.image}}" alt="Profile picture"></div></td>
                        <td>{{friend.name}}</td>
                        <td>{{friend.email}}</td>
                        <td>
                            <button class="btn btn-danger btn-xs" ng-click="addFriend(friend._id)">X</button>
                            <button class="btn btn-primary btn-xs" ui-sref='sendMessage({friend})'>Send Message</button>
                        </td>
                    </tr>
                </tbody>
        </table>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <table class="table">
                <div class="form-group col-md-4 col-md-offset-8 ">
                    <label for="search" class="control-label">Search</label>
                    <div class=''>
                        <input type="text" class="form-control" id="search" placeholder="Name" ng-model='searchMessages'>
                    </div>
                    <thead>
                        <th>Image</th>
                        <th>Name</th>                
                        <th>Message</th>
                        <th>Actions</th>
                    </thead>
                    <tbody>
                        <tr ng-repeat='message in messages | filter: searchMessages'>
                            <td><div class="media"><img class="media-object userList" src="{{message.from.image}}" alt="Profile picture"></div></td>
                            <td>{{message.from.name}}</td>
                            <td>{{message.content}}</td>
                            <td>
                                <button class="btn btn-danger btn-xs" ng-click="deleteMessage(message._id)">X</button>
                            </td>
                        </tr>
                    </tbody>
            </table>
            </div>
        </div>
        <pre>{{ messages |json}}</pre>
